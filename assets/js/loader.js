"use strict"; !function () { window.jdgm = window.jdgm || {}, window.judgeme = jdgm, jdgm.CDN_HOST = jdgm.CDN_HOST || "https://cdn.judge.me/"; var e = ".jdgm-all-reviews-page, .jdgm-all-reviews-widget", t = { "widget/arp.js": e, "widget/others.js": ".jdgm-carousel, .jdgm-revs-tab, .jdgm-all-reviews-rating, .jdgm-medals, .jdgm-all-reviews-text__text, .jdgm-ugc-media", "widget/main.js": ".jdgm-review-widget, #judgeme_product_reviews, .jdgm-preview-badge, .judgeme-preview-badge" }, d = Object.assign({}, t, { "widget/media.js": ".jdgm-revs-tab, .jdgm-medal__image, .jdgm-review-widget, #judgeme_product_reviews, .jdgm-ugc-media, " + e }), a = { "main.css": { selector: ".jdgm-review-widget, #judgeme_product_reviews, .jdgm-revs-tab, .jdgm-ugc-media, " + e, callback: function () { var e = document.createEvent("Event"); e.initEvent("jdgm.doneLoadingCss", !0, !0), document.dispatchEvent(e) } } }, r = { "media.css": ".jdgm-ugc-media" }, i = ["judgeme_token", "judgeme_review_uuid", "judgeme_dynamic_form", "judgeme_follow_up_token", "judgeme_upload_pictures"], s = jdgm.CDN_HOST + "widget/base.js", n = jdgm.CDN_HOST + "widget/common.js", o = !1, l = !1, g = []; jdgm.prefetchResource = function (e, t) { var d = document.createElement("link"); d.className = "jdgm-prefetch", d.rel = "prefetch", t && (d.as = t), d.href = e, document.body.appendChild(d) }, jdgm.loadScript = function (e, t, d) { if (d || !(jdgm.loadScript.requestedUrls.indexOf(e) >= 0)) if (jdgm.loadScript.requestedUrls.push(e), jdgm.loadJS && jdgmSettings.widget_advanced_speed_features <= 10) jdgm.loadJS(e, t); else if (jdgm.$ && jdgm.$.ajax) jdgm.$.ajax({ dataType: "script", cache: !0, url: e }).done(t); else { var a = document.createElement("script"); a.className = "jdgm-script", a.type = "text/javascript", a.src = e, a.async = !0, t && (a.onload = t), document.body.appendChild(a) } }, jdgm.loadScript.requestedUrls = [], jdgm.loadCSS = function (e, t, d) { if (d || !(jdgm.loadCSS.requestedUrls.indexOf(e) >= 0)) { jdgm.loadCSS.requestedUrls.push(e); var a = document.createElement("link"); a.rel = "stylesheet", a.className = "jdgm-stylesheet", a.media = "nope!", a.href = e, a.onload = function () { this.media = "all", t && setTimeout(t) }, document.body.appendChild(a) } }, jdgm.loadCSS.requestedUrls = [], jdgm.docReady = function (e) { (document.attachEvent ? "complete" === document.readyState : "loading" !== document.readyState) ? setTimeout(e, 0) : document.addEventListener("DOMContentLoaded", e) }; var c = function () { return document.querySelectorAll(Object.values(t).join(", ")).length > 0 }, m = function () { l = !0, g.forEach(function (e) { e() }), setTimeout(function () { jdgm.triggerVanillaEvent("finishLoadingCore") }, 0) }, u = function (e) { o || (o = !0, jdgm.loadScript(s, function () { jdgm.loadScript(n, m) }), jdgm.prefetchResource(n, "script")), l ? e() : g.push(e) }, j = function () { var e = window.location, t = "#judgeme" == e.hash || "#judgeme_product_reviews" == e.hash; return i.forEach(function (d) { t = t || e.search.indexOf(d) >= 0 }), t }, v = function () { u(function () { Object.keys(t).forEach(function (e) { document.querySelectorAll(t[e]).length > 0 && jdgm.loadScript(jdgm.CDN_HOST + e) }) }), Object.keys(d).forEach(function (e) { document.querySelectorAll(d[e]).length > 0 && jdgm.prefetchResource(jdgm.CDN_HOST + e, "script") }), j() && (jdgm.prefetchResource(jdgm.CDN_HOST + "widget/form.js", "script"), jdgm.prefetchResource(jdgm.widgetPath("form.css"), "style")) }, p = function () { jdgm.loadCSS(jdgm.widgetPath("base.css")), Object.keys(a).forEach(function (e) { if (document.querySelectorAll(a[e].selector).length > 0) { var t = jdgm.widgetPath(e); jdgm.loadCSS(t, a[e].callback) } }), Object.keys(r).forEach(function (e) { document.querySelectorAll(r[e]).length > 0 && jdgm.prefetchResource(jdgm.widgetPath(e), "stylesheet") }) }; jdgm.docReady(function () { jdgm.isVersion3 = parseFloat(jdgmSettings.widget_version) >= 3, jdgm.widgetPath = function (e) { var t = jdgm.isVersion3 ? "widget_v3/" : "widget/"; return jdgm.CDN_HOST + t + e } }), jdgm.docReady(function () { if (window.jdgmLoadCSS || c()) { var e = jdgm.CDN_HOST + "shopify_v2.css"; document.querySelector("link[rel='stylesheet'][href='" + e + "']") || (jdgmSettings.widget_load_with_code_splitting ? p() : jdgm.loadCSS(e)) } }), jdgm.docReady(function () { (window.jdgmLoadJS || c()) && (jdgmSettings.widget_load_with_code_splitting ? v() : jdgm.loadScript(jdgm.CDN_HOST + "shopify_v2.js", m)) }) }();